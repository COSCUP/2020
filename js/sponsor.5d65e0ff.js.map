{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/pages/Sponsor.vue","webpack:///./src/pages/Sponsor.vue?5feb","webpack:///./src/pages/Sponsor.vue?04c2"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","id","class","href","languagePack","sponsor","callForSponsorship","title","content","Object","keys","sponsorGroups","level","key","link","target","rel","src","image","alt","name","languageType","introSet","onReadmoreClick","setup","breakpoint","despatchRenderedEvent","fromEntries","entries","sort","entryA","entryB","sponsorSequence","indexOf","renderSponsorsIntro","intros","data","en","markdown","intro","detectOverflowContentElements","elements","from","document","querySelectorAll","forEach","element","classList","remove","getBoundingClientRect","height","add","event","contentContainer","parentElement","render"],"mappings":"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","file":"js/sponsor.5d65e0ff.js","sourcesContent":["import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <main id=\"sponsor\" class=\"page-container\">\n    <div class=\"card outer-container\">\n      <h2 class=\"title\">\n        {{ languagePack.sponsor.callForSponsorship.title }}\n      </h2>\n      <p class=\"call-for-sponsorship\">\n        {{ languagePack.sponsor.callForSponsorship.content }}\n        <a href=\"mailto:sponsorship@coscup.org\"> sponsorship@coscup.org </a>\n      </p>\n    </div>\n    <div\n      v-for=\"level in Object.keys(sponsorGroups)\"\n      :key=\"`sponsor-level-${level}`\"\n      class=\"outer-container\"\n    >\n      <h2 class=\"title level\">\n        {{ languagePack.sponsor.level[level] }}\n      </h2>\n      <div\n        v-for=\"sponsor in sponsorGroups[level]\"\n        :key=\"sponsor.id\"\n        class=\"card sponsor-container\"\n      >\n        <div class=\"img-container\">\n          <a :href=\"`${sponsor.link}`\" target=\"_blank\" rel=\"noopener\">\n            <img\n              :src=\"`/2020/images/sponsors/${sponsor.image}`\"\n              :alt=\"`Sponsor ${sponsor.name[languageType]}'s logo`\"\n            />\n          </a>\n        </div>\n        <div class=\"content-container\">\n          <a :href=\"`${sponsor.link}`\" target=\"_blank\" rel=\"noopener\">\n            <h2>\n              {{ sponsor.name[languageType] }}\n            </h2>\n          </a>\n          <article\n            v-if=\"introSet[sponsor.id] && introSet[sponsor.id][languageType]\"\n            v-html=\"introSet[sponsor.id][languageType]\"\n            class=\"markdown\"\n          ></article>\n          <div class=\"readmore\" @click=\"onReadmoreClick\">\n            <span>Read More</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, onMounted, reactive, ref, watch } from 'vue'\nimport { groupBy } from 'lodash'\nimport { availableLanguageTypes, LanguageType } from '@/services/language'\nimport markdown from '@/utils/markdown'\nimport sponsorDatas from '@/../public/json/sponsor.json'\n\nimport '@/assets/scss/pages/sponsor.scss'\nimport { useRenderedEventDispatcher } from '../plugins/renderedEventDispatcher'\nimport { useStore } from '@/store'\n\ntype ArrayElement<ArrayType extends readonly unknown[]> = ArrayType[number];\ntype SopnsorData = ArrayElement<typeof sponsorDatas>\ntype Intro = {\n  [languageType in LanguageType]: string;\n}\ninterface IntroSet {\n  [id: string]: Intro;\n}\n\nexport default defineComponent({\n  name: 'Sponsor',\n  setup () {\n    const { breakpoint, languageType, languagePack } = useStore()\n    const despatchRenderedEvent = useRenderedEventDispatcher()\n\n    const sponsorGroups = reactive(Object.fromEntries(Object.entries(groupBy<SopnsorData>(sponsorDatas, 'level'))\n      .sort((entryA, entryB) => {\n        const sponsorSequence = ['titanium', 'diamond', 'gold', 'silver', 'bronze', 'co-organizer', 'special-thanks']\n        return sponsorSequence.indexOf(entryA[0]) - sponsorSequence.indexOf(entryB[0])\n      })))\n\n    const introSet = ref<IntroSet>({})\n\n    const renderSponsorsIntro = async () => {\n      const intros: IntroSet = {}\n      for (const data of sponsorDatas) {\n        intros[data.id] = {\n          en: '',\n          'zh-TW': ''\n        }\n        for (const languageType of availableLanguageTypes) {\n          intros[data.id][languageType] = await markdown(data.intro[languageType])\n        }\n      }\n      introSet.value = intros\n    }\n\n    const detectOverflowContentElements = () => {\n      const elements = Array.from(document.querySelectorAll('#sponsor .content-container'))\n      elements.forEach((element) => {\n        element.classList.remove('folded')\n      })\n      elements.forEach((element) => {\n        if (element.getBoundingClientRect().height > 300) {\n          element.classList.add('folded')\n        }\n      })\n    }\n\n    const onReadmoreClick = (event: MouseEvent) => {\n      const contentContainer = (event.target as HTMLElement).parentElement as HTMLElement\n      contentContainer.classList.remove('folded')\n    }\n\n    watch(() => breakpoint.value, async () => {\n      detectOverflowContentElements()\n    })\n\n    onMounted(async () => {\n      await renderSponsorsIntro()\n      detectOverflowContentElements()\n      despatchRenderedEvent()\n    })\n\n    return {\n      languageType,\n      languagePack,\n      introSet,\n      sponsorGroups,\n      onReadmoreClick\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, onMounted, reactive, ref, watch } from 'vue'\nimport { groupBy } from 'lodash'\nimport { availableLanguageTypes, LanguageType } from '@/services/language'\nimport markdown from '@/utils/markdown'\nimport sponsorDatas from '@/../public/json/sponsor.json'\n\nimport '@/assets/scss/pages/sponsor.scss'\nimport { useRenderedEventDispatcher } from '../plugins/renderedEventDispatcher'\nimport { useStore } from '@/store'\n\ntype ArrayElement<ArrayType extends readonly unknown[]> = ArrayType[number];\ntype SopnsorData = ArrayElement<typeof sponsorDatas>\ntype Intro = {\n  [languageType in LanguageType]: string;\n}\ninterface IntroSet {\n  [id: string]: Intro;\n}\n\nexport default defineComponent({\n  name: 'Sponsor',\n  setup () {\n    const { breakpoint, languageType, languagePack } = useStore()\n    const despatchRenderedEvent = useRenderedEventDispatcher()\n\n    const sponsorGroups = reactive(Object.fromEntries(Object.entries(groupBy<SopnsorData>(sponsorDatas, 'level'))\n      .sort((entryA, entryB) => {\n        const sponsorSequence = ['titanium', 'diamond', 'gold', 'silver', 'bronze', 'co-organizer', 'special-thanks']\n        return sponsorSequence.indexOf(entryA[0]) - sponsorSequence.indexOf(entryB[0])\n      })))\n\n    const introSet = ref<IntroSet>({})\n\n    const renderSponsorsIntro = async () => {\n      const intros: IntroSet = {}\n      for (const data of sponsorDatas) {\n        intros[data.id] = {\n          en: '',\n          'zh-TW': ''\n        }\n        for (const languageType of availableLanguageTypes) {\n          intros[data.id][languageType] = await markdown(data.intro[languageType])\n        }\n      }\n      introSet.value = intros\n    }\n\n    const detectOverflowContentElements = () => {\n      const elements = Array.from(document.querySelectorAll('#sponsor .content-container'))\n      elements.forEach((element) => {\n        element.classList.remove('folded')\n      })\n      elements.forEach((element) => {\n        if (element.getBoundingClientRect().height > 300) {\n          element.classList.add('folded')\n        }\n      })\n    }\n\n    const onReadmoreClick = (event: MouseEvent) => {\n      const contentContainer = (event.target as HTMLElement).parentElement as HTMLElement\n      contentContainer.classList.remove('folded')\n    }\n\n    watch(() => breakpoint.value, async () => {\n      detectOverflowContentElements()\n    })\n\n    onMounted(async () => {\n      await renderSponsorsIntro()\n      detectOverflowContentElements()\n      despatchRenderedEvent()\n    })\n\n    return {\n      languageType,\n      languagePack,\n      introSet,\n      sponsorGroups,\n      onReadmoreClick\n    }\n  }\n})\n","import { render } from \"./Sponsor.vue?vue&type=template&id=404f53e0&bindings={}\"\nimport script from \"./Sponsor.vue?vue&type=script&lang=ts\"\nexport * from \"./Sponsor.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}