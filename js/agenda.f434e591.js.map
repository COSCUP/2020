{"version":3,"sources":["webpack:///./src/pages/Agenda.vue","webpack:///./src/utils/scrollTo/index.ts","webpack:///./src/components/Agenda/AgendaNavbar.vue","webpack:///./src/components/Agenda/AgendaNavbar.vue?d7be","webpack:///./src/components/Agenda/AgendaNavbar.vue?1ef1","webpack:///./src/components/Agenda/AgendaTable.vue","webpack:///./src/components/Agenda/AgendaSessionItem.vue","webpack:///./src/components/Agenda/AgendaSessionItem.vue?78c4","webpack:///./src/components/Agenda/AgendaSessionItem.vue?a18b","webpack:///./src/components/Agenda/AgendaTableRoomCell.vue","webpack:///./src/components/Agenda/AgendaTableRoomCell.vue?aa5c","webpack:///./src/components/Agenda/AgendaTableRoomCell.vue?ac5b","webpack:///./src/components/Agenda/AgendaTable.vue?93fa","webpack:///./src/components/Agenda/AgendaTable.vue?039f","webpack:///./src/components/Agenda/AgendaList.vue","webpack:///./src/components/Agenda/AgendaList.vue?432d","webpack:///./src/components/Agenda/AgendaList.vue?4a23","webpack:///./src/pages/Agenda.vue?c866","webpack:///./src/pages/Agenda.vue?65cf","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/components/Agenda/AgendaNavbar.vue?6e46"],"names":["id","class","dayIndex","daysData","dayData","index","smAndUp","key","day","join","table","xsOnly","list","easeInOutQuad","currentTime","start","delta","duration","scrollTo","options","emptyResult","promise","Promise","resolve","cancel","to","container","document","documentElement","from","HTMLElement","parentElement","left","scrollLeft","top","scrollTop","offset","offsetLeft","offsetTop","increment","terminated","animateScroll","value","x","y","window","setTimeout","requestAnimationFrame","days","selectedDay","onTabClick","name","props","modelValue","type","Number","required","setup","context","agendaDays","emit","render","__scopeId","style","tableStyle","rooms","room","room-id","rows","row","rowIndex","cell","rowspan","rowSpan","session-id","sessionId","location","statusText","track","period","title","speakers","i","session","language","tags","String","getSessionById","router","languagePack","languageType","roomsStatus","Error","params","currentRoute","end","map","speaker","tag","split","isFull","agenda","roomName","roomId","getRoomById","components","AgendaTableRoomCell","AgendaSessionItem","Object","length","getSessionLocation","sections","section","formatTimeString","sessions","AgendaNavbar","AgendaTable","AgendaList","dispatchRenderedEvent","setFullPageProgressStatus","popup","closePopup","getSessionPopupData","agendaDaysData","initAgenda","_languageType","rawRoomsStatus","fromEntries","socket","onSessionPopupClose","isFromRoomPage","query","push","undefined","popupSession","popupId","metaOptions","containerData","contentData","html","popupData","onClose","processByRoute","route","replace","registerSocket","baseUrl","updateData","a","get","data","on","error","console","unregisterSocket","connected","disconnect","isSafari","test","navigator","userAgent","events","onScrolling","forEach","event","removeEventListener","addEventListener","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","trim","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","arguments","dummy","this","valueOf","call","keys","j","constructor"],"mappings":"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","file":"js/agenda.f434e591.js","sourcesContent":["<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <main id=\"agenda\" class=\"page-container\">\n    <AgendaNavbar v-model=\"dayIndex\" />\n    <template v-for=\"(dayData, index) in daysData\">\n      <AgendaTable\n        v-if=\"dayData !== null && smAndUp\"\n        v-show=\"dayIndex === index\"\n        :key=\"`table-${dayData.day.join('')}`\"\n        :table=\"dayData.table\"\n      />\n      <AgendaList\n        v-if=\"dayData !== null && xsOnly\"\n        v-show=\"dayIndex === index\"\n        :key=\"`list-${dayData.day.join('')}`\"\n        :list=\"dayData.list\"\n      />\n    </template>\n  </main>\n</template>\n\n<script lang=\"ts\">\nimport io from 'socket.io-client'\nimport axios from 'axios'\nimport { defineComponent, computed, watch, onMounted, provide, ref, onBeforeUnmount, nextTick } from 'vue'\nimport { RouteLocationNormalized, useRouter } from 'vue-router'\nimport { PopupData } from '@/services/popup'\nimport { useRenderedEventDispatcher } from '@/plugins/renderedEventDispatcher'\nimport { scrollTo } from '@/utils/scrollTo'\nimport AgendaNavbar from '@/components/Agenda/AgendaNavbar.vue'\nimport AgendaTable from '@/components/Agenda/AgendaTable.vue'\nimport AgendaList from '@/components/Agenda/AgendaList.vue'\n\nimport '@/assets/scss/pages/agenda.scss'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'Agenda',\n  components: {\n    AgendaNavbar,\n    AgendaTable,\n    AgendaList\n  },\n  setup () {\n    const dispatchRenderedEvent = useRenderedEventDispatcher()\n    const router = useRouter()\n    const { smAndUp, xsOnly, setFullPageProgressStatus, popup, closePopup, getSessionPopupData, agendaDaysData: daysData, initAgenda } = useStore()\n    const { languageType: _languageType } = useStore()\n    const languageType = computed(() => _languageType.value === 'zh-TW' ? 'zh' : _languageType.value)\n    const rawRoomsStatus = ref<{ id: string; isFull: boolean }[]>([])\n    const roomsStatus = computed(() => Object.fromEntries(rawRoomsStatus.value.map((room) => [room.id, room.isFull])))\n    let socket: SocketIOClient.Socket | null = null\n    const dayIndex = ref(0)\n\n    const onSessionPopupClose = () => {\n      if (router.currentRoute.value.name === 'AgendaDetail') {\n        const isFromRoomPage = router.currentRoute.value.query.from === 'room'\n        router.push({\n          ...router.currentRoute,\n          name: isFromRoomPage ? 'Room' : 'Agenda',\n          query: {\n            ...router.currentRoute.value.query,\n            from: undefined\n          }\n        })\n      }\n    }\n\n    const popupSession = async (sessionId = '') => {\n      const popupData: PopupData = sessionId === 'template'\n        ? {\n          popupId: 'session-template',\n          metaOptions: {\n            title: 'Template'\n          },\n          containerData: {\n            type: 'default'\n          },\n          contentData: {\n            type: 'general',\n            html: '<article id=\"session-detail\" class=\"session-detail\"><h1>Session Popup Template</h1></article>'\n          }\n        }\n        : await getSessionPopupData(sessionId, languageType.value)\n\n      popup({\n        ...popupData,\n        onClose: onSessionPopupClose\n      })\n    }\n\n    const processByRoute = async (route: RouteLocationNormalized) => {\n      if (route.name === 'AgendaDetail') {\n        try {\n          await popupSession(route.params.sessionId as string)\n        } catch (error) {\n          await router.replace({\n            ...router.currentRoute,\n            name: 'Agenda'\n          })\n        }\n      } else if (route.name === 'Agenda') {\n        closePopup()\n      }\n    }\n\n    const registerSocket = () => {\n      const baseUrl = 'https://coscup2020-room.deviltea.me'\n      const updateData = async () => {\n        const { data } = await axios.get(`${baseUrl}/api/rooms_status`)\n        rawRoomsStatus.value = data.roomsStatus\n      }\n\n      try {\n        socket = io(baseUrl)\n        socket.on('connect', updateData)\n        socket.on('update', updateData)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n\n    const unregisterSocket = () => {\n      if (socket && socket.connected) {\n        socket.disconnect()\n        socket = null\n      }\n    }\n\n    watch(() => dayIndex.value, () => {\n      const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n      const { cancel } = scrollTo({\n        to: { left: 0, top: 0 },\n        duration: isSafari ? 10 : undefined\n      })\n      const events = ['wheel', 'mousewheel', 'DOMMouseScroll']\n      const onScrolling = () => {\n        events.forEach((event) => window.removeEventListener(event, onScrolling))\n        cancel()\n      }\n      events.forEach((event) => window.addEventListener(event, onScrolling))\n    })\n\n    watch(() => router.currentRoute.value, processByRoute)\n\n    onMounted(async () => {\n      setFullPageProgressStatus(true)\n      await initAgenda()\n      await processByRoute(router.currentRoute.value)\n      setFullPageProgressStatus(false)\n      dispatchRenderedEvent()\n      await nextTick()\n      registerSocket()\n    })\n\n    onBeforeUnmount(() => {\n      unregisterSocket()\n    })\n\n    provide('languageType', languageType)\n    provide('roomsStatus', roomsStatus)\n\n    return {\n      smAndUp,\n      xsOnly,\n      dayIndex,\n      daysData,\n      roomsStatus\n    }\n  }\n})\n</script>\n","export type Position = { left: number; top: number }\ninterface ScrollToOptions {\n  container?: HTMLElement | null;\n  from?: HTMLElement | Position | null;\n  to: HTMLElement | Position | null;\n  duration?: number;\n  offset?: Position;\n}\n\nfunction easeInOutQuad (currentTime: number, start: number, delta: number, duration: number) {\n  currentTime /= duration / 2\n  if (currentTime < 1) return delta / 2 * currentTime * currentTime + start\n  currentTime--\n  return -delta / 2 * (currentTime * (currentTime - 2) - 1) + start\n}\n\nexport function scrollTo (options: ScrollToOptions) {\n  const emptyResult = {\n    promise: Promise.resolve(),\n    cancel: () => { /**/ }\n  }\n  if (options.to === null) return emptyResult\n\n  const container: HTMLElement = options.container || document.documentElement\n  const from: Position = options.from ? (options.from instanceof HTMLElement ? (options.from.parentElement === container ? { left: options.from.scrollLeft, top: options.from.scrollTop } : { left: container.scrollLeft, top: container.scrollTop }) : options.from) : { left: container.scrollLeft, top: container.scrollTop }\n  const { offset = { left: 0, top: 0 } } = options\n  const to: Position | null = options.to instanceof HTMLElement ? { left: options.to.offsetLeft + offset.left, top: options.to.offsetTop + offset.top } : { left: options.to.left + offset.left, top: options.to.top + offset.top }\n  if (to === null) return emptyResult\n  const { duration = 500 } = options\n  const delta: Position = { left: to.left - from.left, top: to.top - from.top }\n  const increment = 10\n  let currentTime = 0\n  let terminated = false\n\n  return {\n    promise: new Promise((resolve) => {\n      function animateScroll () {\n        currentTime += increment\n        const value = {\n          x: easeInOutQuad(currentTime, from.left, delta.left, duration),\n          y: easeInOutQuad(currentTime, from.top, delta.top, duration)\n        }\n        container.scrollTo(value.x, value.y)\n\n        if (!terminated && currentTime < duration) {\n          window.setTimeout(() => requestAnimationFrame(animateScroll), increment)\n        } else {\n          resolve()\n        }\n      }\n      requestAnimationFrame(animateScroll)\n    }),\n    cancel: () => { terminated = true }\n  }\n}\n","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <nav class=\"agenda-navbar\">\n    <div class=\"tabs\">\n      <div\n        class=\"tab\"\n        :class=\"{ active: selectedDay.join('') === day.join('') }\"\n        v-for=\"(day, index) in days\"\n        :key=\"`day-option-${index}`\"\n        @click=\"onTabClick(index)\"\n      >\n        <span class=\"day-text\">{{ `Day ${index + 1}` }}</span>\n        <span class=\"date\">{{ day.join(\" / \") }}</span>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script lang=\"ts\">\nimport { useStore } from '@/store'\nimport { defineComponent, computed } from 'vue'\n\nexport default defineComponent({\n  name: 'AgendaNavbar',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const { agendaDays: days } = useStore()\n    const selectedDay = computed(() => days.value[props.modelValue])\n\n    const onTabClick = (dayIndex: number) => {\n      context.emit('update:modelValue', dayIndex)\n    }\n\n    return {\n      days,\n      selectedDay,\n      onTabClick\n    }\n  }\n})\n</script>\n\n<style scoped>\n</style>\n","\nimport { useStore } from '@/store'\nimport { defineComponent, computed } from 'vue'\n\nexport default defineComponent({\n  name: 'AgendaNavbar',\n  props: {\n    modelValue: {\n      type: Number,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const { agendaDays: days } = useStore()\n    const selectedDay = computed(() => days.value[props.modelValue])\n\n    const onTabClick = (dayIndex: number) => {\n      context.emit('update:modelValue', dayIndex)\n    }\n\n    return {\n      days,\n      selectedDay,\n      onTabClick\n    }\n  }\n})\n","import { render } from \"./AgendaNavbar.vue?vue&type=template&id=0bc21ba6&scoped=true&bindings={}\"\nimport script from \"./AgendaNavbar.vue?vue&type=script&lang=ts\"\nexport * from \"./AgendaNavbar.vue?vue&type=script&lang=ts\"\n\nimport \"./AgendaNavbar.vue?vue&type=style&index=0&id=0bc21ba6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0bc21ba6\"\n\nexport default script","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <table class=\"agenda-table\" :style=\"tableStyle\">\n    <thead class=\"room-list\">\n      <tr>\n        <th v-for=\"(room, index) in table.rooms\" :key=\"`table-room-${index}`\">\n          <div class=\"cell-content\">\n            <AgendaTableRoomCell :room-id=\"room\"> </AgendaTableRoomCell>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <div style=\"height: 0.5rem\"></div>\n    <tbody class=\"table-body\">\n      <tr v-for=\"(row, rowIndex) in table.rows\" :key=\"`table-row-${rowIndex}`\">\n        <td\n          v-for=\"(cell, index) in row\"\n          :key=\"`table-row-${rowIndex}-cell-${index}`\"\n          :rowspan=\"cell.rowSpan\"\n        >\n          <div\n            class=\"cell-content\"\n            :class=\"{\n              blank: cell.type === 'Blank',\n            }\"\n          >\n            <AgendaSessionItem\n              v-if=\"cell.type !== 'Blank'\"\n              :session-id=\"cell.sessionId\"\n            >\n            </AgendaSessionItem>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, PropType, ComputedRef } from 'vue'\nimport { AgendaTableData } from '@/services/agenda'\nimport AgendaSessionItem from './AgendaSessionItem.vue'\nimport AgendaTableRoomCell from './AgendaTableRoomCell.vue'\nimport { useRouter } from 'vue-router'\n\nexport default defineComponent({\n  name: 'AgendaTable',\n  components: {\n    AgendaTableRoomCell,\n    AgendaSessionItem\n  },\n  props: {\n    table: {\n      type: Object as PropType<AgendaTableData>,\n      required: true\n    }\n  },\n  setup (props) {\n    const router = useRouter()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const tableStyle = computed(() => ({ '--table-column': props.table.rooms.length }))\n    const getSessionLocation = (sessionId: string) => ({\n      name: 'AgendaDetail',\n      params: {\n        ...router.currentRoute.value.params,\n        sessionId\n      }\n    })\n\n    return {\n      languageType,\n      tableStyle,\n      getSessionLocation\n    }\n  }\n})\n</script>\n","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <router-link class=\"agenda-session-item\" :to=\"location\">\n    <section class=\"content-section\">\n      <h4 class=\"track\">\n        <div\n          v-show=\"xsOnly\"\n          class=\"room\"\n          :class=\"{\n            full: isFull,\n          }\"\n        >\n          <span class=\"status\">{{ statusText }}</span>\n          <span class=\"name\">{{ room }}</span>\n        </div>\n        <span>{{ track }}</span>\n      </h4>\n      <!--  -->\n      <h4 class=\"period\">{{ period }}</h4>\n      <!--  -->\n      <h2 class=\"title\">{{ title }}</h2>\n      <!--  -->\n      <h3 class=\"speaker-list\">\n        <span>by</span>\n        <span\n          v-for=\"(name, i) in speakers\"\n          :key=\"`session-${session.id}-speaker-${i}`\"\n          class=\"speaker\"\n        >\n          {{ name }}\n        </span>\n      </h3>\n      <!--  -->\n      <div class=\"tag-list\">\n        <span>\n          {{ language }}\n        </span>\n        <span\n          v-for=\"(name, i) in tags\"\n          :key=\"`tag-${session.id}-tag-${i}`\"\n          class=\"tag\"\n        >\n          {{ name }}\n        </span>\n      </div>\n    </section>\n  </router-link>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, ComputedRef } from 'vue'\nimport { formatTimeString } from '@/services/agenda'\nimport { useRouter } from 'vue-router'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'AgendaSessionItem',\n  props: {\n    sessionId: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const { getSessionById } = useStore()\n    const router = useRouter()\n    const { xsOnly, languagePack } = useStore()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const roomsStatus = inject<ComputedRef<{ [k: string]: boolean }>>('roomsStatus') || { value: {} }\n    const session = computed(() => {\n      const session = getSessionById(props.sessionId)\n      if (session === null) throw new Error('Invalid Session')\n      return session\n    })\n    const location = computed(() => {\n      return {\n        name: 'AgendaDetail',\n        params: {\n          ...router.currentRoute.value.params,\n          sessionId: props.sessionId\n        }\n      }\n    })\n    const track = computed(() => session.value.type[languageType.value].name)\n    const period = computed(() => `${formatTimeString(session.value.start, '：')} ~ ${formatTimeString(session.value.end, '：')}`)\n    const title = computed(() => session.value[languageType.value].title)\n    const speakers = computed(() => session.value.speakers.map((speaker) => speaker[languageType.value].name))\n    const tags = computed(() => session.value.tags.map((tag) => tag[languageType.value].name))\n    const language = computed(() => session.value.language)\n    const room = computed(() => session.value.room[languageType.value].name.split(' / ')[0])\n\n    const isFull = computed(() => !!(roomsStatus.value[session.value.room.id]))\n    const statusText = computed(() => languagePack.value.agenda['room-status'][isFull.value ? 'full' : 'vacancy'])\n\n    return {\n      xsOnly,\n      session,\n      location,\n      track,\n      period,\n      title,\n      speakers,\n      tags,\n      language,\n      room,\n      isFull,\n      statusText\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, inject, computed, ComputedRef } from 'vue'\nimport { formatTimeString } from '@/services/agenda'\nimport { useRouter } from 'vue-router'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'AgendaSessionItem',\n  props: {\n    sessionId: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const { getSessionById } = useStore()\n    const router = useRouter()\n    const { xsOnly, languagePack } = useStore()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const roomsStatus = inject<ComputedRef<{ [k: string]: boolean }>>('roomsStatus') || { value: {} }\n    const session = computed(() => {\n      const session = getSessionById(props.sessionId)\n      if (session === null) throw new Error('Invalid Session')\n      return session\n    })\n    const location = computed(() => {\n      return {\n        name: 'AgendaDetail',\n        params: {\n          ...router.currentRoute.value.params,\n          sessionId: props.sessionId\n        }\n      }\n    })\n    const track = computed(() => session.value.type[languageType.value].name)\n    const period = computed(() => `${formatTimeString(session.value.start, '：')} ~ ${formatTimeString(session.value.end, '：')}`)\n    const title = computed(() => session.value[languageType.value].title)\n    const speakers = computed(() => session.value.speakers.map((speaker) => speaker[languageType.value].name))\n    const tags = computed(() => session.value.tags.map((tag) => tag[languageType.value].name))\n    const language = computed(() => session.value.language)\n    const room = computed(() => session.value.room[languageType.value].name.split(' / ')[0])\n\n    const isFull = computed(() => !!(roomsStatus.value[session.value.room.id]))\n    const statusText = computed(() => languagePack.value.agenda['room-status'][isFull.value ? 'full' : 'vacancy'])\n\n    return {\n      xsOnly,\n      session,\n      location,\n      track,\n      period,\n      title,\n      speakers,\n      tags,\n      language,\n      room,\n      isFull,\n      statusText\n    }\n  }\n})\n","import { render } from \"./AgendaSessionItem.vue?vue&type=template&id=18b6fa72&bindings={}\"\nimport script from \"./AgendaSessionItem.vue?vue&type=script&lang=ts\"\nexport * from \"./AgendaSessionItem.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <div class=\"agenda-table-room-cell\">\n    <div class=\"status\">\n      <span class=\"bubble\" :class=\"{ full: isFull }\"></span>\n      <span class=\"text\">{{ statusText }}</span>\n    </div>\n    <span>Room</span>\n    <span>{{ roomName }}</span>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ComputedRef, inject, computed } from 'vue'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'AgendaTableRoomCell',\n  props: {\n    roomId: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const { languagePack, getRoomById } = useStore()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const roomsStatus = inject<ComputedRef<{ [k: string]: boolean }>>('roomsStatus') || { value: {} }\n    const room = computed(() => {\n      const room = getRoomById(props.roomId)\n      if (room === null) throw new Error('Invalid Room')\n      return room\n    })\n    const roomName = computed(() => room.value[languageType.value].name.split(' / ')[0])\n    const isFull = computed(() => !!(roomsStatus.value[props.roomId]))\n    const statusText = computed(() => languagePack.value.agenda['room-status'][isFull.value ? 'full' : 'vacancy'])\n\n    return {\n      roomName,\n      isFull,\n      statusText\n    }\n  }\n})\n</script>\n","\nimport { defineComponent, ComputedRef, inject, computed } from 'vue'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'AgendaTableRoomCell',\n  props: {\n    roomId: {\n      type: String,\n      required: true\n    }\n  },\n  setup (props) {\n    const { languagePack, getRoomById } = useStore()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const roomsStatus = inject<ComputedRef<{ [k: string]: boolean }>>('roomsStatus') || { value: {} }\n    const room = computed(() => {\n      const room = getRoomById(props.roomId)\n      if (room === null) throw new Error('Invalid Room')\n      return room\n    })\n    const roomName = computed(() => room.value[languageType.value].name.split(' / ')[0])\n    const isFull = computed(() => !!(roomsStatus.value[props.roomId]))\n    const statusText = computed(() => languagePack.value.agenda['room-status'][isFull.value ? 'full' : 'vacancy'])\n\n    return {\n      roomName,\n      isFull,\n      statusText\n    }\n  }\n})\n","import { render } from \"./AgendaTableRoomCell.vue?vue&type=template&id=452e19a8&bindings={}\"\nimport script from \"./AgendaTableRoomCell.vue?vue&type=script&lang=ts\"\nexport * from \"./AgendaTableRoomCell.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, inject, computed, PropType, ComputedRef } from 'vue'\nimport { AgendaTableData } from '@/services/agenda'\nimport AgendaSessionItem from './AgendaSessionItem.vue'\nimport AgendaTableRoomCell from './AgendaTableRoomCell.vue'\nimport { useRouter } from 'vue-router'\n\nexport default defineComponent({\n  name: 'AgendaTable',\n  components: {\n    AgendaTableRoomCell,\n    AgendaSessionItem\n  },\n  props: {\n    table: {\n      type: Object as PropType<AgendaTableData>,\n      required: true\n    }\n  },\n  setup (props) {\n    const router = useRouter()\n    const languageType = inject<ComputedRef<'zh' | 'en'>>('languageType') || { value: 'zh' }\n    const tableStyle = computed(() => ({ '--table-column': props.table.rooms.length }))\n    const getSessionLocation = (sessionId: string) => ({\n      name: 'AgendaDetail',\n      params: {\n        ...router.currentRoute.value.params,\n        sessionId\n      }\n    })\n\n    return {\n      languageType,\n      tableStyle,\n      getSessionLocation\n    }\n  }\n})\n","import { render } from \"./AgendaTable.vue?vue&type=template&id=46a2dd07&bindings={}\"\nimport script from \"./AgendaTable.vue?vue&type=script&lang=ts\"\nexport * from \"./AgendaTable.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<!--\n  Copyright (c) 2020 DevilTea\n\n  This software is released under the MIT License.\n  https://opensource.org/licenses/MIT\n-->\n\n<template>\n  <ul class=\"agenda-list\">\n    <section\n      v-for=\"(section, i) in list.sections\"\n      :key=\"`agenda-list-section-${i}`\"\n      class=\"section\"\n    >\n      <li class=\"time\">\n        {{ formatTimeString(section.start, \"：\") }}\n      </li>\n      <li\n        v-for=\"sessionId in section.sessions\"\n        :key=\"`agenda-list-section-${i}-session-${sessionId}`\"\n        class=\"session-item-container\"\n      >\n        <AgendaSessionItem :session-id=\"sessionId\"></AgendaSessionItem>\n      </li>\n    </section>\n  </ul>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport { formatTimeString } from '@/services/agenda'\nimport AgendaSessionItem from '@/components/Agenda/AgendaSessionItem.vue'\n\nexport default defineComponent({\n  name: 'AgendaList',\n  components: {\n    AgendaSessionItem\n  },\n  props: {\n    list: {\n      type: Object,\n      required: true\n    }\n  },\n  setup () {\n    return {\n      formatTimeString\n    }\n  }\n})\n</script>\n","\nimport { defineComponent } from 'vue'\nimport { formatTimeString } from '@/services/agenda'\nimport AgendaSessionItem from '@/components/Agenda/AgendaSessionItem.vue'\n\nexport default defineComponent({\n  name: 'AgendaList',\n  components: {\n    AgendaSessionItem\n  },\n  props: {\n    list: {\n      type: Object,\n      required: true\n    }\n  },\n  setup () {\n    return {\n      formatTimeString\n    }\n  }\n})\n","import { render } from \"./AgendaList.vue?vue&type=template&id=7a2a83fb&bindings={}\"\nimport script from \"./AgendaList.vue?vue&type=script&lang=ts\"\nexport * from \"./AgendaList.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport io from 'socket.io-client'\nimport axios from 'axios'\nimport { defineComponent, computed, watch, onMounted, provide, ref, onBeforeUnmount, nextTick } from 'vue'\nimport { RouteLocationNormalized, useRouter } from 'vue-router'\nimport { PopupData } from '@/services/popup'\nimport { useRenderedEventDispatcher } from '@/plugins/renderedEventDispatcher'\nimport { scrollTo } from '@/utils/scrollTo'\nimport AgendaNavbar from '@/components/Agenda/AgendaNavbar.vue'\nimport AgendaTable from '@/components/Agenda/AgendaTable.vue'\nimport AgendaList from '@/components/Agenda/AgendaList.vue'\n\nimport '@/assets/scss/pages/agenda.scss'\nimport { useStore } from '@/store'\n\nexport default defineComponent({\n  name: 'Agenda',\n  components: {\n    AgendaNavbar,\n    AgendaTable,\n    AgendaList\n  },\n  setup () {\n    const dispatchRenderedEvent = useRenderedEventDispatcher()\n    const router = useRouter()\n    const { smAndUp, xsOnly, setFullPageProgressStatus, popup, closePopup, getSessionPopupData, agendaDaysData: daysData, initAgenda } = useStore()\n    const { languageType: _languageType } = useStore()\n    const languageType = computed(() => _languageType.value === 'zh-TW' ? 'zh' : _languageType.value)\n    const rawRoomsStatus = ref<{ id: string; isFull: boolean }[]>([])\n    const roomsStatus = computed(() => Object.fromEntries(rawRoomsStatus.value.map((room) => [room.id, room.isFull])))\n    let socket: SocketIOClient.Socket | null = null\n    const dayIndex = ref(0)\n\n    const onSessionPopupClose = () => {\n      if (router.currentRoute.value.name === 'AgendaDetail') {\n        const isFromRoomPage = router.currentRoute.value.query.from === 'room'\n        router.push({\n          ...router.currentRoute,\n          name: isFromRoomPage ? 'Room' : 'Agenda',\n          query: {\n            ...router.currentRoute.value.query,\n            from: undefined\n          }\n        })\n      }\n    }\n\n    const popupSession = async (sessionId = '') => {\n      const popupData: PopupData = sessionId === 'template'\n        ? {\n          popupId: 'session-template',\n          metaOptions: {\n            title: 'Template'\n          },\n          containerData: {\n            type: 'default'\n          },\n          contentData: {\n            type: 'general',\n            html: '<article id=\"session-detail\" class=\"session-detail\"><h1>Session Popup Template</h1></article>'\n          }\n        }\n        : await getSessionPopupData(sessionId, languageType.value)\n\n      popup({\n        ...popupData,\n        onClose: onSessionPopupClose\n      })\n    }\n\n    const processByRoute = async (route: RouteLocationNormalized) => {\n      if (route.name === 'AgendaDetail') {\n        try {\n          await popupSession(route.params.sessionId as string)\n        } catch (error) {\n          await router.replace({\n            ...router.currentRoute,\n            name: 'Agenda'\n          })\n        }\n      } else if (route.name === 'Agenda') {\n        closePopup()\n      }\n    }\n\n    const registerSocket = () => {\n      const baseUrl = 'https://coscup2020-room.deviltea.me'\n      const updateData = async () => {\n        const { data } = await axios.get(`${baseUrl}/api/rooms_status`)\n        rawRoomsStatus.value = data.roomsStatus\n      }\n\n      try {\n        socket = io(baseUrl)\n        socket.on('connect', updateData)\n        socket.on('update', updateData)\n      } catch (error) {\n        console.error(error)\n      }\n    }\n\n    const unregisterSocket = () => {\n      if (socket && socket.connected) {\n        socket.disconnect()\n        socket = null\n      }\n    }\n\n    watch(() => dayIndex.value, () => {\n      const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n      const { cancel } = scrollTo({\n        to: { left: 0, top: 0 },\n        duration: isSafari ? 10 : undefined\n      })\n      const events = ['wheel', 'mousewheel', 'DOMMouseScroll']\n      const onScrolling = () => {\n        events.forEach((event) => window.removeEventListener(event, onScrolling))\n        cancel()\n      }\n      events.forEach((event) => window.addEventListener(event, onScrolling))\n    })\n\n    watch(() => router.currentRoute.value, processByRoute)\n\n    onMounted(async () => {\n      setFullPageProgressStatus(true)\n      await initAgenda()\n      await processByRoute(router.currentRoute.value)\n      setFullPageProgressStatus(false)\n      dispatchRenderedEvent()\n      await nextTick()\n      registerSocket()\n    })\n\n    onBeforeUnmount(() => {\n      unregisterSocket()\n    })\n\n    provide('languageType', languageType)\n    provide('roomsStatus', roomsStatus)\n\n    return {\n      smAndUp,\n      xsOnly,\n      dayIndex,\n      daysData,\n      roomsStatus\n    }\n  }\n})\n","import { render } from \"./Agenda.vue?vue&type=template&id=37fb4220&bindings={}\"\nimport script from \"./Agenda.vue?vue&type=script&lang=ts\"\nexport * from \"./Agenda.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AgendaNavbar.vue?vue&type=style&index=0&id=0bc21ba6&scoped=true&lang=css\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AgendaNavbar.vue?vue&type=style&index=0&id=0bc21ba6&scoped=true&lang=css\""],"sourceRoot":""}