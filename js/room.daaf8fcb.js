(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["room"],{"9a03":function(t,e,n){"use strict";n.r(e);n("b0c0"),n("ac1f"),n("1276");var a=n("7a23"),c={id:"room",class:"page-container"},s={class:"room-table"},o={class:"room"},r={class:"status"},u={class:"session"},l={class:"room"},b={class:"status"},i={class:"text"},j={class:"session"},O={class:"period"},m={class:"title"},d={key:1,class:"content empty"};function f(t,e,n,f,p,g){var v=Object(a["F"])("router-link");return Object(a["w"])(),Object(a["f"])("main",c,[Object(a["j"])("table",s,[Object(a["j"])("thead",null,[Object(a["j"])("tr",null,[Object(a["j"])("th",o,Object(a["I"])(t.text.table.header.room),1),Object(a["j"])("th",r,Object(a["I"])(t.text.table.header.status),1),Object(a["j"])("th",u,Object(a["I"])(t.text.table.header.session),1)])]),Object(a["j"])("tbody",null,[(Object(a["w"])(!0),Object(a["f"])(a["a"],null,Object(a["D"])(t.roomsSession,(function(e){return Object(a["w"])(),Object(a["f"])("tr",{key:"r-".concat(e.room.id)},[Object(a["j"])("td",l,[Object(a["j"])("span",{class:["bubble",{full:t.roomsStatus[e.room.id]}]},null,2),Object(a["j"])("span",null,Object(a["I"])(e.room[t.languageType].name.split(" / ")[0]),1)]),Object(a["j"])("td",b,[Object(a["j"])("span",{class:["bubble",{full:t.roomsStatus[e.room.id]}]},null,2),Object(a["j"])("span",i,Object(a["I"])(t.roomsStatus[e.room.id]?t.text.table.body.status.full:t.text.table.body.status.available),1)]),Object(a["j"])("td",j,[e.session?Object(a["j"])(v,{key:0,to:t.locationOfSession(e.session.id),class:"content"},{default:Object(a["O"])((function(){return[Object(a["j"])("h3",O,Object(a["I"])(t.timePeriodOf(e.session.start,e.session.end)),1),Object(a["j"])("h2",m,Object(a["I"])(e.session[t.languageType].title),1)]})),_:2},1032,["to"]):(Object(a["w"])(),Object(a["f"])("p",d,Object(a["I"])(t.text.table.body.empty),1))])])})),128))])])])}n("99af"),n("d81d"),n("c1f9"),n("96cf");var p=n("1da1"),g=n("8055"),v=n.n(g),h=n("bc3a"),w=n.n(h),y=n("11a5"),x=(n("9b74"),n("ab44")),I=n("0613"),S=Object(a["k"])({name:"Room",setup:function(){var t=Object(I["b"])(),e=t.languageType,n=t.languagePack,c=t.initAgenda,s=t.getRoomsInProgressSession,o=Object(x["b"])(),r=Object(a["d"])((function(){return"zh-TW"===e.value?"zh":e.value})),u=Object(a["d"])((function(){return n.value.room})),l=Object(a["C"])(-1),b=Object(a["C"])([]),i=Object(a["C"])([]),j=Object(a["d"])((function(){return Object.fromEntries(i.value.map((function(t){return[t.id,t.isFull]})))})),O=null,m=function(){var t="https://coscup2020-room.deviltea.me",e=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(t,"/api/rooms_status"));case 2:n=e.sent,a=n.data,i.value=a.roomsStatus;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{O=v()(t),O.on("connect",e),O.on("update",e)}catch(n){console.error(n)}},d=function(){O&&O.connected&&(O.disconnect(),O=null)},f=function(t,e){return"".concat(Object(y["formatTimeString"])(t,"：")," ~ ").concat(Object(y["formatTimeString"])(e,"："))},g=function(t){return{name:"AgendaDetail",params:{sessionId:t},query:{from:"room"}}};return Object(a["u"])(Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return o(),t.next=5,Object(a["p"])();case 5:l.value=setInterval(function t(){return b.value=s(),t}(),3e3),m();case 7:case"end":return t.stop()}}),t)})))),Object(a["s"])((function(){clearInterval(l.value),d()})),{text:u,languageType:r,roomsSession:b,roomsStatus:j,timePeriodOf:f,locationOfSession:g}}});S.render=f;e["default"]=S},"9b74":function(t,e,n){}}]);
//# sourceMappingURL=room.daaf8fcb.js.map